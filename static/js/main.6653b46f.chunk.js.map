{"version":3,"sources":["store.js","index.js"],"names":["initialState","require","store","createStore","state","action","type","payload","name","value","App","searchVal","filterTypes","filterDone","handleSearch","bind","handleFilterType","handleFilterDone","handleToggleHave","handleToggleVariation","handleLoad","handleSave","event","this","setState","target","idx","indexOf","splice","push","val","item","have","vars","keys","forEach","variation","props","dispatch","load_file","files","load_text","FileReader","readAsText","load_json","JSON","parse","element","document","createElement","setAttribute","encodeURIComponent","catalog","style","display","body","appendChild","click","removeChild","filtered_items","map","sorted_items","filter","includes","sort","a","b","onChange","onClick","checked","React","Component","rootElement","connect","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.6653b46f.chunk.js","sourcesContent":["import { createStore } from 'redux'\r\n\r\nconst initialState = require('./catalog.json')\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'UPDATE_ITEM':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[action.payload.name]: action.payload.value\r\n\t\t\t}\r\n\t\tcase 'LOAD_FILE':\r\n\t\t\treturn action.payload\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nconst store = createStore(reducer)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { connect } from 'react-redux'\nimport { Provider } from 'react-redux'\n\nimport './index.css'\nimport store from './store'\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tsearchVal: '',\n\t\t\tfilterTypes: ['furniture', 'fashion', 'misc', 'diy'],\n\t\t\tfilterDone: [true, false]\n\t\t}\n\t\t\n\t\tthis.handleSearch = this.handleSearch.bind(this)\n\t\tthis.handleFilterType = this.handleFilterType.bind(this)\n\t\tthis.handleFilterDone = this.handleFilterDone.bind(this)\n\n\t\tthis.handleToggleHave = this.handleToggleHave.bind(this)\n\t\tthis.handleToggleVariation = this.handleToggleVariation.bind(this)\n\n\t\tthis.handleLoad = this.handleLoad.bind(this)\n\t\tthis.handleSave = this.handleSave.bind(this)\n\t}\n\t\t\n\thandleSearch(event) {\n\t\tthis.setState({\n\t\t\tsearchVal: event.target.value\n\t\t})\n\t}\n\n\thandleFilterType(event, type) {\n\t\tvar filterTypes = this.state.filterTypes\n\t\tvar idx = filterTypes.indexOf(type)\n\t\tif (idx > -1) {\n\t\t\tfilterTypes.splice(idx, 1)\n\t\t} else {\n\t\t\tfilterTypes.push(type)\n\t\t}\n\t\tthis.setState({\n\t\t\tfilterTypes: filterTypes\n\t\t})\n\t}\n\n\thandleFilterDone(event, val) {\n\t\tvar filterDone = this.state.filterDone\n\t\tvar idx = filterDone.indexOf(val)\n\t\tif (idx > -1) {\n\t\t\tfilterDone.splice(idx, 1)\n\t\t} else {\n\t\t\tfilterDone.push(val)\n\t\t}\n\t\tthis.setState({\n\t\t\tfilterDone: filterDone\n\t\t})\n\t}\n\t\n\thandleToggleHave(event, item) {\n\t\titem.have = !item.have\n\t\titem.vars.keys().forEach(variation => {\n\t\t\titem.vars[variation] = item.have\n\t\t})\n\n\t\tthis.props.dispatch({\n\t\t\ttype: 'UPDATE_ITEM',\n\t\t\tpayload: {\n\t\t\t\tname: item.name,\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: item.type,\n\t\t\t\t\thave: item.have,\n\t\t\t\t\tvars: item.vars\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\t\n\thandleToggleVariation(event, item, variation) {\n\t\titem.vars[variation] = !item.vars[variation]\n\t\titem.have = true\n\t\titem.vars.keys().forEach(variation => {\n\t\t\tif (!item.vars[variation]) {\n\t\t\t\titem.have = false\n\t\t\t}\n\t\t})\n\n\t\tthis.props.dispatch({\n\t\t\ttype: 'UPDATE_ITEM',\n\t\t\tpayload: {\n\t\t\t\tname: item.name,\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: item.type,\n\t\t\t\t\thave: item.have,\n\t\t\t\t\tvars: item.vars\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\t\n\thandleLoad(event) {\n\t\tvar load_file = event.target.files[0]\n\t\tvar reader = new FileReader()\n\t\tvar load_text = reader.readAsText(load_file)\n\t\tvar load_json = JSON.parse(load_text)\n\t\t\n\t\tthis.props.dispatch({\n\t\t\t'type': 'LOAD_FILE',\n\t\t\tpayload: load_json\n\t\t})\n\t}\n\n\thandleSave(event) {\n\t\tvar element = document.createElement('a')\n\t\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(this.props.catalog))\n\t\telement.setAttribute('download', 'catalog.json')\n\n\t\telement.style.display = 'none'\n\t\tdocument.body.appendChild(element)\n\t\telement.click()\n\t\tdocument.body.removeChild(element)\n\t}\n\t\n\trender() {\n\t\tvar item_list = this.props.catalog.keys().map(name => (\n\t\t\t{\n\t\t\t\tname: name,\n\t\t\t\ttype: this.props.catalog[name].type,\n\t\t\t\thave: this.props.catalog[name].have,\n\t\t\t\tvars: this.props.catalog[name].vars\n\t\t\t}\n\t\t))\n\n\t\tvar filtered_items = item_list\n\t\tfiltered_items = filtered_items.filter(item => item.name.includes(this.state.searchVal))\n\t\tfiltered_items = filtered_items.filter(item => this.state.filterTypes.includes(item.type))\n\t\tfiltered_items = filtered_items.filter(item => this.state.filterDone.includes(item.have))\n\n\t\tvar sorted_items = filtered_items.sort((a, b) => {\n\t\t\tif (a.name < b.name) {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t\tif (a.name > b.name) {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t\treturn 0\n\t\t})\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tonChange={this.handleLoad}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tImport Catalog\n\t\t\t\t\t\t</input>\n\n\t\t\t\t\t\t<button onClick={this.handleSave}>\n\t\t\t\t\t\t\tExport Catalog\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterTypes.includes['furniture']}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterType(event, 'furniture')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFurniture\n\t\t\t\t\t\t</input>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterTypes.includes['fashion']}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterType(event, 'fashion')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFashion\n\t\t\t\t\t\t</input>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterTypes.includes['misc']}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterType(event, 'misc')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMisc\n\t\t\t\t\t\t</input>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterTypes.includes['diy']}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterType(event, 'diy')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDIY\n\t\t\t\t\t\t</input>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterDone.includes[true]}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterDone(event, true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tComplete\n\t\t\t\t\t\t</input>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.state.filterDone.includes[false]}\n\t\t\t\t\t\t\tonChange={event => this.handleFilterDone(event, false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tIncomplete\n\t\t\t\t\t\t</input>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.searchVal}\n\t\t\t\t\t\t\tonChange={this.handleSearch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{sorted_items.map(item => (\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t\t<td>{item.type}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tchecked={item.have}\n\t\t\t\t\t\t\t\t\t\tonChange={event => this.handleToggleHave(event, item)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{item.vars.keys().map(variation => (\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tchecked={item.vars[variation]}\n\t\t\t\t\t\t\t\t\t\t\tonChange={event => this.handleToggleVariation(event, item, variation)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{variation}\n\t\t\t\t\t\t\t\t\t\t</input>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn { catalog: state }\n}\n\nconst mapDispatchToProps = dispatch => {\n  \treturn {\n    \tdispatch\n  \t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(App)\n\nconst rootElement = document.getElementById(\"root\")\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\trootElement\n)\n"],"sourceRoot":""}